!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/forms"),require("prosemirror-state"),require("prosemirror-view"),require("@angular/common"),require("prosemirror-model"),require("ngx-editor/schema"),require("rxjs"),require("prosemirror-commands"),require("ngx-editor/commands"),require("ngx-editor/helpers"),require("prosemirror-schema-list"),require("@angular/platform-browser"),require("rxjs/operators"),require("ngx-editor/utils"),require("prosemirror-keymap"),require("prosemirror-history"),require("prosemirror-inputrules")):"function"==typeof define&&define.amd?define("ngx-editor",["exports","@angular/core","@angular/forms","prosemirror-state","prosemirror-view","@angular/common","prosemirror-model","ngx-editor/schema","rxjs","prosemirror-commands","ngx-editor/commands","ngx-editor/helpers","prosemirror-schema-list","@angular/platform-browser","rxjs/operators","ngx-editor/utils","prosemirror-keymap","prosemirror-history","prosemirror-inputrules"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self)["ngx-editor"]={},e.ng.core,e.ng.forms,e.prosemirrorState,e.prosemirrorView,e.ng.common,e.prosemirrorModel,e["ngx-editor"].schema,e.rxjs,e.prosemirrorCommands,e["ngx-editor"].commands,e["ngx-editor"].helpers,e.prosemirroSchemaList,e.ng.platformBrowser,e.rxjs.operators,e["ngx-editor"].utils,e.prosemirrorKeymap,e.prosemirrorHistory,e.prosemirrorInputRules)}(this,(function(e,t,n,o,r,i,s,a,c,l,u,p,d,g,m,f,h,v,x){"use strict";var y=function(e){return void 0===e&&(e=function(){}),new o.Plugin({key:new o.PluginKey("focus"),props:{handleDOMEvents:{focus:function(){return e(),!1}}}})},_=["imgEl"];function b(e,n){if(1&e){var o=t.ɵɵgetCurrentView();t.ɵɵelementStart(0,"span",4),t.ɵɵelementStart(1,"span",5),t.ɵɵlistener("mousedown",(function(e){return t.ɵɵrestoreView(o),t.ɵɵnextContext().startResizing(e,"left")})),t.ɵɵelementEnd(),t.ɵɵelementStart(2,"span",6),t.ɵɵlistener("mousedown",(function(e){return t.ɵɵrestoreView(o),t.ɵɵnextContext().startResizing(e,"right")})),t.ɵɵelementEnd(),t.ɵɵelementStart(3,"span",7),t.ɵɵlistener("mousedown",(function(e){return t.ɵɵrestoreView(o),t.ɵɵnextContext().startResizing(e,"left")})),t.ɵɵelementEnd(),t.ɵɵelementStart(4,"span",8),t.ɵɵlistener("mousedown",(function(e){return t.ɵɵrestoreView(o),t.ɵɵnextContext().startResizing(e,"right")})),t.ɵɵelementEnd(),t.ɵɵelementEnd()}}var w=function(e){return{"NgxEditor__Resizer--Active":e}},C=function(){function e(){this.alt="",this.title="",this.outerWidth="",this.selected=!1,this.imageResize=new t.EventEmitter}return e.prototype.startResizing=function(e,t){e.preventDefault(),this.resizeImage(e,t)},e.prototype.resizeImage=function(e,t){var n=this,o=e.pageX,r=this.imgEl.nativeElement.clientWidth,i="left"===t,s=window.getComputedStyle(this.view.dom).width,a=parseInt(s,10),c=function(e){var t=e.pageX-o,s=i?r-t:r+t;s>a||s<20||(n.outerWidth=s+"px")},l=function(e){e.preventDefault(),document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",l),n.imageResize.emit()};document.addEventListener("mousemove",c),document.addEventListener("mouseup",l)},e}();C.ɵfac=function(e){return new(e||C)},C.ɵcmp=t.ɵɵdefineComponent({type:C,selectors:[["ngx-image-view"]],viewQuery:function(e,n){if(1&e&&t.ɵɵviewQuery(_,3),2&e){var o;t.ɵɵqueryRefresh(o=t.ɵɵloadQuery())&&(n.imgEl=o.first)}},inputs:{src:"src",alt:"alt",title:"title",outerWidth:"outerWidth",selected:"selected",view:"view"},outputs:{imageResize:"imageResize"},decls:4,vars:9,consts:[[1,"NgxEditor__ImageWrapper",3,"ngClass"],["class","NgxEditor__ResizeHandle",4,"ngIf"],[3,"src","alt","title"],["imgEl",""],[1,"NgxEditor__ResizeHandle"],[1,"NgxEditor__ResizeHandle--TL",3,"mousedown"],[1,"NgxEditor__ResizeHandle--TR",3,"mousedown"],[1,"NgxEditor__ResizeHandle--BL",3,"mousedown"],[1,"NgxEditor__ResizeHandle--BR",3,"mousedown"]],template:function(e,n){1&e&&(t.ɵɵelementStart(0,"span",0),t.ɵɵtemplate(1,b,5,0,"span",1),t.ɵɵelement(2,"img",2,3),t.ɵɵelementEnd()),2&e&&(t.ɵɵstyleProp("width",n.outerWidth),t.ɵɵproperty("ngClass",t.ɵɵpureFunction1(7,w,n.selected)),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",n.selected),t.ɵɵadvance(1),t.ɵɵproperty("src",n.src,t.ɵɵsanitizeUrl)("alt",n.alt)("title",n.title))},directives:[i.NgClass,i.NgIf],styles:["*[_ngcontent-%COMP%], [_ngcontent-%COMP%]:after, [_ngcontent-%COMP%]:before{box-sizing:border-box}img[_ngcontent-%COMP%]{width:100%;height:100%}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]{position:relative;display:inline-block;line-height:0;padding:2px}.NgxEditor__ImageWrapper.NgxEditor__Resizer--Active[_ngcontent-%COMP%]{padding:1px;border:1px solid #1a73e8}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]{position:absolute;height:100%;width:100%}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--BL[_ngcontent-%COMP%], .NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--BR[_ngcontent-%COMP%], .NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--TL[_ngcontent-%COMP%], .NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--TR[_ngcontent-%COMP%]{position:absolute;width:7px;height:7px;background-color:#1a73e8;border:1px solid #fff}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--BR[_ngcontent-%COMP%]{bottom:-5px;right:-5px;cursor:se-resize}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--TR[_ngcontent-%COMP%]{top:-5px;right:-5px;cursor:ne-resize}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--TL[_ngcontent-%COMP%]{top:-5px;left:-5px;cursor:nw-resize}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--BL[_ngcontent-%COMP%]{bottom:-5px;left:-5px;cursor:sw-resize}"]}),("undefined"==typeof ngDevMode||ngDevMode)&&t.ɵsetClassMetadata(C,[{type:t.Component,args:[{selector:"ngx-image-view",templateUrl:"./image-view.component.html",styleUrls:["./image-view.component.scss"]}]}],(function(){return[]}),{src:[{type:t.Input}],alt:[{type:t.Input}],title:[{type:t.Input}],outerWidth:[{type:t.Input}],selected:[{type:t.Input}],view:[{type:t.Input}],imageResize:[{type:t.Output}],imgEl:[{type:t.ViewChild,args:["imgEl",{static:!0}]}]});var E=function(){function e(e,n,r,i){var s=this;this.updating=!1,this.handleResize=function(){if(!s.updating){var e=s.view,t=e.state,n=e.dispatch,r=t.tr.setNodeMarkup(s.getPos(),void 0,{src:s.imageComponentRef.instance.src,width:s.imageComponentRef.instance.outerWidth}),i=r.doc.resolve(s.getPos()),a=new o.NodeSelection(i);r.setSelection(a),n(r)}};var a=document.createElement("image-view"),c=i.get(t.ComponentFactoryResolver);this.applicationRef=i.get(t.ApplicationRef);var l=c.resolveComponentFactory(C);this.imageComponentRef=l.create(i,[],a),this.applicationRef.attachView(this.imageComponentRef.hostView),this.setNodeAttributes(e.attrs),this.imageComponentRef.instance.view=n,this.dom=a,this.view=n,this.node=e,this.getPos=r,this.resizeSubscription=this.imageComponentRef.instance.imageResize.subscribe((function(){s.handleResize()}))}return e.prototype.computeChanges=function(e,t){return JSON.stringify(e)===JSON.stringify(t)},e.prototype.setNodeAttributes=function(e){this.imageComponentRef.instance.src=e.src,this.imageComponentRef.instance.alt=e.alt,this.imageComponentRef.instance.title=e.title,this.imageComponentRef.instance.outerWidth=e.width},e.prototype.update=function(e){return e.type===this.node.type&&(this.node=e,this.computeChanges(this.node.attrs,e.attrs)&&(this.updating=!0,this.setNodeAttributes(e.attrs),this.updating=!1),!0)},e.prototype.ignoreMutation=function(){return!0},e.prototype.selectNode=function(){this.imageComponentRef.instance.selected=!0},e.prototype.deselectNode=function(){this.imageComponentRef.instance.selected=!1},e.prototype.destroy=function(){this.resizeSubscription.unsubscribe(),this.applicationRef.detachView(this.imageComponentRef.hostView)},e}(),M=/((https?:\/\/)?[\w-]+(\.[\w-]+)+\.?(:\d+)?(\/\S*)?)$/,N=function(e){var t=[];return e.forEach((function(e){if(e.isText){var n=e.text,o=0,r=M.exec(n);if(r){var i=r.index,s=i+r[0].length,a=e.type.schema.marks.link;i>0&&t.push(e.cut(o,i));var c=n.slice(i,s);t.push(e.cut(i,s).mark(a.create({href:c}).addToSet(e.marks))),o=s}o<n.length&&t.push(e.cut(o))}else t.push(e.copy(N(e.content)))})),s.Fragment.fromArray(t)},I={type:"doc",content:[{type:"paragraph"}]},P=function(e,t){var n=null!=t?t:a.schema,o=n.nodeFromJSON(e),r=s.DOMSerializer.fromSchema(n).serializeFragment(o.content),i=document.createElement("div");return i.appendChild(r),i.innerHTML},S=function(e,t){var n=null!=t?t:a.schema,o=document.createElement("div");return o.innerHTML=e,s.DOMParser.fromSchema(n).parse(o).toJSON()},k=function(e,t){if(!e)return t.nodeFromJSON(I);if("string"!=typeof e)return t.nodeFromJSON(e);var n=S(e,t);return t.nodeFromJSON(n)},D=["ngxEditor"],O=function(){function e(e,n){this.renderer=e,this.injector=n,this.placeholder="Type Here...",this.enabled=!0,this.focusOut=new t.EventEmitter,this.focusIn=new t.EventEmitter,this.subscriptions=[],this.onChange=function(){},this.onTouched=function(){}}return e.prototype.writeValue=function(e){this.outputFormat||"string"!=typeof e||(this.outputFormat="html"),this.editor.setContent(e)},e.prototype.registerOnChange=function(e){this.onChange=e},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.handleChange=function(e){if("html"!==this.outputFormat)this.onChange(e);else{var t=P(e,this.editor.schema);this.onChange(t)}},e.prototype.setMeta=function(e,t){var n=this.editor.view;(0,n.dispatch)(n.state.tr.setMeta(e,t))},e.prototype.enable=function(){this.setMeta("UPDATE_EDITABLE",!0)},e.prototype.disable=function(){this.setMeta("UPDATE_EDITABLE",!1)},e.prototype.setPlaceholder=function(e){this.setMeta("UPDATE_PLACEHOLDER",e)},e.prototype.registerPlugins=function(){var e,t,n,i,a,c=this;this.editor.registerPlugin((void 0===(e=this.enabled)&&(e=!0),new o.Plugin({key:new o.PluginKey("editable"),state:{init:function(){return e},apply:function(e,t){var n;return null!==(n=e.getMeta("UPDATE_EDITABLE"))&&void 0!==n?n:t}},props:{editable:function(e){return this.getState(e)},attributes:function(e){return this.getState(e)?null:{class:"NgxEditor__Content--Disabled"}}}}))),this.editor.registerPlugin((t=this.placeholder,new o.Plugin({key:new o.PluginKey("placeholder"),state:{init:function(){return null!=t?t:""},apply:function(e,t){var n;return null!==(n=e.getMeta("UPDATE_PLACEHOLDER"))&&void 0!==n?n:t}},props:{decorations:function(e){var t=e.doc,n=t.textContent,o=t.childCount,i=this.getState(e);if(!i||o>1)return r.DecorationSet.empty;var s=[];return t.descendants((function(e,t){var o;if(e.type.isBlock&&0===e.childCount&&0===n.length){var a=r.Decoration.node(t,t+e.nodeSize,{class:"NgxEditor__Placeholder","data-placeholder":i,"data-align":null!==(o=e.attrs.align)&&void 0!==o?o:null});s.push(a)}return!1})),r.DecorationSet.create(t,s)}}}))),this.editor.registerPlugin((void 0===(n={class:"NgxEditor__Content"})&&(n={}),new o.Plugin({key:new o.PluginKey("attributes"),props:{attributes:n}}))),this.editor.registerPlugin(y((function(){c.focusIn.emit()}))),this.editor.registerPlugin(y((function(){c.focusIn.emit()}))),this.editor.registerPlugin((void 0===(i=function(){c.focusOut.emit(),c.onTouched()})&&(i=function(){}),new o.Plugin({key:new o.PluginKey("blur"),props:{handleDOMEvents:{blur:function(){return i(),!1}}}}))),this.editor.registerPlugin((a=this.injector,new o.Plugin({key:new o.PluginKey("link"),props:{nodeViews:{image:function(e,t,n){return new E(e,t,n,a)}}}}))),this.editor.registerPlugin(new o.Plugin({key:new o.PluginKey("link"),props:{transformPasted:function(e){return new s.Slice(N(e.content),e.openStart,e.openEnd)}}}))},e.prototype.ngOnInit=function(){var e=this;if(!this.editor)throw new Error("NgxEditor: Required editor instance");this.registerPlugins(),this.renderer.appendChild(this.ngxEditor.nativeElement,this.editor.view.dom);var t=this.editor.valueChanges.subscribe((function(t){e.handleChange(t)}));this.subscriptions.push(t)},e.prototype.ngOnChanges=function(e){(null==e?void 0:e.placeholder)&&!e.placeholder.isFirstChange()&&this.setPlaceholder(e.placeholder.currentValue),(null==e?void 0:e.enabled)&&!e.enabled.isFirstChange()&&(e.enabled.currentValue?this.enable():this.disable())},e.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(e){e.unsubscribe()}))},e}();O.ɵfac=function(e){return new(e||O)(t.ɵɵdirectiveInject(t.Renderer2),t.ɵɵdirectiveInject(t.Injector))},O.ɵcmp=t.ɵɵdefineComponent({type:O,selectors:[["ngx-editor"]],viewQuery:function(e,n){if(1&e&&t.ɵɵviewQuery(D,3),2&e){var o;t.ɵɵqueryRefresh(o=t.ɵɵloadQuery())&&(n.ngxEditor=o.first)}},inputs:{editor:"editor",outputFormat:"outputFormat",placeholder:"placeholder",enabled:"enabled"},outputs:{focusOut:"focusOut",focusIn:"focusIn"},features:[t.ɵɵProvidersFeature([{provide:n.NG_VALUE_ACCESSOR,useExisting:t.forwardRef((function(){return O})),multi:!0}]),t.ɵɵNgOnChangesFeature],ngContentSelectors:["*"],decls:3,vars:0,consts:[[1,"NgxEditor"],["ngxEditor",""]],template:function(e,n){1&e&&(t.ɵɵprojectionDef(),t.ɵɵelementStart(0,"div",0,1),t.ɵɵprojection(2),t.ɵɵelementEnd())},styles:['.NgxEditor{background:#fff;color:#000;background-clip:padding-box;border-radius:4px;border:1px solid rgba(0,0,0,.2);position:relative}.NgxEditor--Disabled{opacity:.5;pointer-events:none}.NgxEditor__Placeholder:before{color:#6c757d;opacity:1;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:absolute;cursor:text;content:attr(data-placeholder)}.NgxEditor__Placeholder[data-align=right]:before{position:relative}.NgxEditor__Content{padding:.5rem;white-space:pre-wrap;outline:none;font-variant-ligatures:none;font-feature-settings:"liga" 0}.NgxEditor__Content p{margin:0 0 .7rem}.NgxEditor__Content blockquote{padding-left:1rem;border-left:3px solid #ddd;margin-left:0;margin-right:0}.NgxEditor__Content--Disabled{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none}.NgxEditor__Wrapper{border:1px solid rgba(0,0,0,.4);border-radius:4px}.NgxEditor__Wrapper .NgxEditor__MenuBar{border-top-left-radius:4px;border-top-right-radius:4px;border-bottom:1px solid rgba(0,0,0,.2)}.NgxEditor__Wrapper .NgxEditor{border-top-left-radius:0;border-top-right-radius:0;border:none}.NgxEditor__MenuBar{display:flex;padding:.2rem;cursor:default;background-color:#fff}.NgxEditor__MenuItem{border-radius:2px;display:flex;align-items:center;justify-content:center;position:relative;flex-shrink:0}.NgxEditor__MenuItem:hover{background-color:#f1f1f1}.NgxEditor__MenuItem.NgxEditor__MenuItem--Icon{height:1.85rem;width:1.85rem;transition:.3s ease-in-out}.NgxEditor__MenuItem.NgxEditor__MenuItem--Icon+.NgxEditor__MenuItem--Icon{margin-left:2px}.NgxEditor__MenuItem .NgxEditor__MenuItem--IconContainer{display:flex;height:100%;width:100%;align-items:center;justify-content:center}.NgxEditor__MenuItem.NgxEditor__MenuItem--Text{padding:0 .3rem}.NgxEditor__MenuItem.NgxEditor__MenuItem--Active{background-color:#e8f0fe}.NgxEditor__MenuItem.NgxEditor__MenuItem--Active.NgxEditor__MenuItem--Text{color:#1a73e8}.NgxEditor__MenuItem.NgxEditor__MenuItem--Active svg{fill:#1a73e8}.NgxEditor__Dropdown{min-width:4rem;position:relative;display:flex;align-items:center;flex-shrink:0}.NgxEditor__Dropdown:hover{background-color:#f1f1f1}.NgxEditor__Dropdown .NgxEditor__Dropdown--Text{display:flex;align-items:center;justify-content:center;padding:0 .3rem;height:100%;width:100%}.NgxEditor__Dropdown .NgxEditor__Dropdown--Text:after{display:inline-block;content:"";margin-left:1.5rem;vertical-align:.25rem;border-top:.25rem solid;border-right:.25rem solid transparent;border-bottom:0;border-left:.25rem solid transparent}.NgxEditor__Dropdown .NgxEditor__Dropdown--DropdownMenu{position:absolute;left:0;top:calc(1.85rem + 2px);box-shadow:0 2px 6px 2px rgba(60,64,67,.15);border-radius:4px;background-color:#fff;z-index:10;width:100%}.NgxEditor__Dropdown .NgxEditor__Dropdown--Item{padding:.5rem;white-space:nowrap;color:inherit}.NgxEditor__Dropdown .NgxEditor__Dropdown--Item:hover{background-color:#ececec}.NgxEditor__Dropdown.NgxEditor__Dropdown--Open,.NgxEditor__Dropdown.NgxEditor__Dropdown--Selected{background-color:#e8f0fe}.NgxEditor__Dropdown.NgxEditor__Dropdown--Open .NgxEditor__Dropdown--Text,.NgxEditor__Dropdown.NgxEditor__Dropdown--Selected .NgxEditor__Dropdown--Text{color:#1a73e8}.NgxEditor__Dropdown .NgxEditor__Dropdown--Active{background-color:#f1f1f1}.NgxEditor__Dropdown .NgxEditor__Dropdown--Active:hover{background-color:#e7e7e7}.NgxEditor__Popup{position:absolute;top:calc(1.85rem + 2px);box-shadow:0 2px 6px 2px rgba(60,64,67,.15);border-radius:4px;background-color:#fff;z-index:10;min-width:12rem;padding:8px}.NgxEditor__Popup .NgxEditor__Popup--FormGroup{margin-bottom:8px}.NgxEditor__Popup .NgxEditor__Popup--FormGroup label{margin-bottom:3px}.NgxEditor__Popup .NgxEditor__Popup--FormGroup input[type=text],.NgxEditor__Popup .NgxEditor__Popup--FormGroup input[type=url]{padding:2px 4px}.NgxEditor__Popup .NgxEditor__Popup--Col{display:flex;flex-direction:column;position:relative}.NgxEditor__Popup .NgxEditor__Popup--Label{font-size:85%}.NgxEditor__Seperator{border-left:1px solid #ccc;margin:0 .3rem}.NgxEditor__HelpText{font-size:80%}.NgxEditor__HelpText.NgxEditor__HelpText--Error{color:red}'],encapsulation:2}),("undefined"==typeof ngDevMode||ngDevMode)&&t.ɵsetClassMetadata(O,[{type:t.Component,args:[{selector:"ngx-editor",templateUrl:"./editor.component.html",styleUrls:["./editor.component.scss"],providers:[{provide:n.NG_VALUE_ACCESSOR,useExisting:t.forwardRef((function(){return O})),multi:!0}],encapsulation:t.ViewEncapsulation.None}]}],(function(){return[{type:t.Renderer2},{type:t.Injector}]}),{ngxEditor:[{type:t.ViewChild,args:["ngxEditor",{static:!0}]}],editor:[{type:t.Input}],outputFormat:[{type:t.Input}],placeholder:[{type:t.Input}],enabled:[{type:t.Input}],focusOut:[{type:t.Output}],focusIn:[{type:t.Output}]});var z=function(){function e(){this.customMenuRefChange=new c.Subject}return e.prototype.setCustomMenuRef=function(e){this.customMenuRefChange.next(e)},e}();z.ɵfac=function(e){return new(e||z)},z.ɵprov=t.ɵɵdefineInjectable({token:z,factory:z.ɵfac,providedIn:"root"}),("undefined"==typeof ngDevMode||ngDevMode)&&t.ɵsetClassMetadata(z,[{type:t.Injectable,args:[{providedIn:"root"}]}],(function(){return[]}),null);var H={bold:'\n  <path d="M15.6 10.79c.97-.67 1.65-1.77 1.65-2.79 0-2.26-1.75-4-4-4H7v14h7.04c2.09 0 3.71-1.7 3.71-3.79 0-1.52-.86-2.82-2.15-3.42zM10 6.5h3c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-3v-3zm3.5 9H10v-3h3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5z" />\n',italic:'\n  <path d="M10 4v3h2.21l-3.42 8H6v3h8v-3h-2.21l3.42-8H18V4z" />\n',code:'\n<path d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"/>\n',underline:'\n<path d="M12 17c3.31 0 6-2.69 6-6V3h-2.5v8c0 1.93-1.57 3.5-3.5 3.5S8.5 12.93 8.5 11V3H6v8c0 3.31 2.69 6 6 6zm-7 2v2h14v-2H5z"/>\n',strike:'\n<path d="M6.85,7.08C6.85,4.37,9.45,3,12.24,3c1.64,0,3,0.49,3.9,1.28c0.77,0.65,1.46,1.73,1.46,3.24h-3.01 c0-0.31-0.05-0.59-0.15-0.85c-0.29-0.86-1.2-1.28-2.25-1.28c-1.86,0-2.34,1.02-2.34,1.7c0,0.48,0.25,0.88,0.74,1.21 C10.97,8.55,11.36,8.78,12,9H7.39C7.18,8.66,6.85,8.11,6.85,7.08z M21,12v-2H3v2h9.62c1.15,0.45,1.96,0.75,1.96,1.97 c0,1-0.81,1.67-2.28,1.67c-1.54,0-2.93-0.54-2.93-2.51H6.4c0,0.55,0.08,1.13,0.24,1.58c0.81,2.29,3.29,3.3,5.67,3.3 c2.27,0,5.3-0.89,5.3-4.05c0-0.3-0.01-1.16-0.48-1.94H21V12z"/>\n',ordered_list:'\n<path d="M2 17h2v.5H3v1h1v.5H2v1h3v-4H2v1zm1-9h1V4H2v1h1v3zm-1 3h1.8L2 13.1v.9h3v-1H3.2L5 10.9V10H2v1zm5-6v2h14V5H7zm0 14h14v-2H7v2zm0-6h14v-2H7v2z"/>\n',bullet_list:'\n<path d="M4 10.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0-6c-.83 0-1.5.67-1.5 1.5S3.17 7.5 4 7.5 5.5 6.83 5.5 6 4.83 4.5 4 4.5zm0 12c-.83 0-1.5.68-1.5 1.5s.68 1.5 1.5 1.5 1.5-.68 1.5-1.5-.67-1.5-1.5-1.5zM7 19h14v-2H7v2zm0-6h14v-2H7v2zm0-8v2h14V5H7z"/>\n',blockquote:'\n<path d="M0 0h24v24H0z" fill="none"/><path d="M6 17h3l2-4V7H5v6h3zm8 0h3l2-4V7h-6v6h3z"/>\n',link:'\n<path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>\n',unlink:'\n<path d="M17 7h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1 0 1.43-.98 2.63-2.31 2.98l1.46 1.46C20.88 15.61 22 13.95 22 12c0-2.76-2.24-5-5-5zm-1 4h-2.19l2 2H16zM2 4.27l3.11 3.11C3.29 8.12 2 9.91 2 12c0 2.76 2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1 0-1.59 1.21-2.9 2.76-3.07L8.73 11H8v2h2.73L13 15.27V17h1.73l4.01 4L20 19.74 3.27 3 2 4.27z"/>\n',image:'\n<path d="M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"/>\n',align_left:'\n<path d="M15 15H3v2h12v-2zm0-8H3v2h12V7zM3 13h18v-2H3v2zm0 8h18v-2H3v2zM3 3v2h18V3H3z"/>\n',align_center:'\n<path d="M7 15v2h10v-2H7zm-4 6h18v-2H3v2zm0-8h18v-2H3v2zm4-6v2h10V7H7zM3 3v2h18V3H3z"/>\n',align_right:'\n<path d="M3 21h18v-2H3v2zm6-4h12v-2H9v2zm-6-4h18v-2H3v2zm6-4h12V7H9v2zM3 3v2h18V3H3z"/>\n',align_justify:'\n<path d="M3 21h18v-2H3v2zm0-4h18v-2H3v2zm0-4h18v-2H3v2zm0-4h18V7H3v2zm0-6v2h18V3H3z"/>\n',text_color:'\n<path d="M2,20h20v4H2V20z M5.49,17h2.42l1.27-3.58h5.65L16.09,17h2.42L13.25,3h-2.5L5.49,17z M9.91,11.39l2.03-5.79h0.12l2.03,5.79 H9.91z"/>\n',color_fill:'\n<path d="M16.56,8.94L7.62,0L6.21,1.41l2.38,2.38L3.44,8.94c-0.59,0.59-0.59,1.54,0,2.12l5.5,5.5C9.23,16.85,9.62,17,10,17 s0.77-0.15,1.06-0.44l5.5-5.5C17.15,10.48,17.15,9.53,16.56,8.94z M5.21,10L10,5.21L14.79,10H5.21z M19,11.5c0,0-2,2.17-2,3.5 c0,1.1,0.9,2,2,2s2-0.9,2-2C21,13.67,19,11.5,19,11.5z M2,20h20v4H2V20z"/>\n'},R=function(){function e(){}return e.get=function(e,t){return void 0===t&&(t="#000"),'\n      <svg\n        xmlns="http://www.w3.org/2000/svg"\n        viewBox="0 0 24 24"\n        fill='+t+"\n        height=20\n        width=20\n      >\n        "+(H[e]||"<path></path>")+"\n      </svg>\n    "},e.getPath=function(e){return H[e]||"<path></path>"},e}(),L=function(){function e(e){this.name=e}return e.prototype.apply=function(){var e=this;return function(t,n){var o=t.schema.marks[e.name];return!!o&&u.applyMark(o)(t,n)}},e.prototype.toggle=function(){var e=this;return function(t,n){var o=t.schema.marks[e.name];return!!o&&l.toggleMark(o)(t,n)}},e.prototype.isActive=function(e){var t=e.schema.marks[this.name];return!!t&&p.isMarkActive(e,t)},e.prototype.canExecute=function(e){return this.toggle()(e)},e}(),T=function(){function e(){}return e.prototype.toggle=function(){var e=this;return function(t,n){var o=t.schema.nodes.blockquote;return!!o&&(e.isActive(t)?l.lift(t,n):l.wrapIn(o)(t,n))}},e.prototype.isActive=function(e){var t=e.schema.nodes.blockquote;return!!t&&p.isNodeActive(e,t)},e.prototype.canExecute=function(e){return this.toggle()(e)},e}(),j=function(){function e(e){void 0===e&&(e=!1),this.isBulletList=!1,this.isBulletList=e}return e.prototype.getType=function(e){return this.isBulletList?e.nodes.bullet_list:e.nodes.ordered_list},e.prototype.toggle=function(){var e=this;return function(t,n){var o=t.schema,r=e.getType(o);return!!r&&(e.isActive(t)?d.liftListItem(o.nodes.list_item)(t,n):d.wrapInList(r)(t,n))}},e.prototype.isActive=function(e){var t=e.schema,n=this.getType(t);return!!n&&p.isNodeActive(e,n)},e.prototype.canExecute=function(e){return this.toggle()(e)},e}(),V=function(){function e(e){this.level=e}return e.prototype.apply=function(){return function(e,t){var n=e.schema.nodes.heading;return!!n&&l.setBlockType(n)(e,t)}},e.prototype.toggle=function(){var e=this;return function(t,n){var o,r=t.schema,i=t.selection,s=t.doc,a=r.nodes.heading;if(!a)return!1;var c=i.$from.before(1),u=s.nodeAt(c),p=null!==(o=null==u?void 0:u.attrs)&&void 0!==o?o:{};return e.isActive(t)?l.setBlockType(r.nodes.paragraph,p)(t,n):l.setBlockType(a,Object.assign(Object.assign({},p),{level:e.level}))(t,n)}},e.prototype.isActive=function(e){var t=this,n=e.schema,o=p.getSelectionNodes(e),r=n.nodes.heading;if(!r)return!1;var i=[r,n.nodes.text,n.nodes.blockquote],s=o.filter((function(e){return i.includes(e.type)})).find((function(e){return e.attrs.level===t.level}));return Boolean(s)},e.prototype.canExecute=function(e){return this.toggle()(e)},e}(),A=function(){function e(e){this.align=e}return e.prototype.toggle=function(){var e=this;return function(t,n){var o=t.doc,r=t.selection,i=t.tr,s=t.schema,a=r.from,c=r.to,l=!1;return o.nodesBetween(a,c,(function(t,n){var o=t.type;return[s.nodes.paragraph,s.nodes.heading].includes(o)&&(l=!0,i.setNodeMarkup(n,o,Object.assign(Object.assign({},t.attrs),{align:e.align}))),!0})),!!l&&(i.docChanged&&(null==n||n(i)),!0)}},e.prototype.isActive=function(e){var t=this,n=p.getSelectionNodes(e).find((function(e){return e.attrs.align===t.align}));return Boolean(n)},e.prototype.canExecute=function(e){return this.toggle()(e)},e}(),F={strict:!0},B=function(){function e(){}return e.prototype.update=function(e){return void 0===e&&(e={}),function(t,n){var o=t.schema,r=t.selection,i=o.marks.link;return!!i&&(!r.empty&&l.toggleMark(i,e)(t,n))}},e.prototype.insert=function(e,t){return function(n,o){var r,i,s=n.schema,a=n.tr;if(!s.marks.link)return!1;var c={href:t.href,title:null!==(r=t.title)&&void 0!==r?r:e,target:null!==(i=t.target)&&void 0!==i?i:"_blank"},l=s.text(e,[s.marks.link.create(c)]);return a.replaceSelectionWith(l,!1).scrollIntoView(),!!a.docChanged&&(null==o||o(a),!0)}},e.prototype.isActive=function(e,t){if(void 0===t&&(t=F),t.strict)return!0;var n=e.schema.marks.link;return!!n&&p.isMarkActive(e,n)},e.prototype.remove=function(e,t){return u.removeLink()(e,t)},e.prototype.canExecute=function(e){return this.update({})(e)},e}(),q=function(){function e(){}return e.prototype.insert=function(e,t){return function(n,r){var i=n.schema,s=n.tr,a=n.selection,c=i.nodes.image;if(!c)return!1;var l=Object.assign({width:null,src:e},t);!l.width&&a instanceof o.NodeSelection&&a.node.type===c&&(l.width=a.node.attrs.width),s.replaceSelectionWith(c.createAndFill(l));var u=s.doc.resolve(s.selection.anchor-s.selection.$anchor.nodeBefore.nodeSize);return s.setSelection(new o.NodeSelection(u)).scrollIntoView(),!!s.docChanged&&(null==r||r(s),!0)}},e.prototype.isActive=function(e){var t=e.selection;return t instanceof o.NodeSelection&&"image"===t.node.type.name},e}(),U=function(){function e(e){this.name=e}return e.prototype.apply=function(e){var t=this;return function(n,o){var r=n.schema,i=n.selection,s=n.doc,a=r.marks[t.name];if(!a)return!1;var c=i.from,l=i.to;if(!i.empty&&c+1===l){var p=s.nodeAt(c);if((null==p?void 0:p.isAtom)&&!p.isText&&p.isLeaf)return!1}return u.applyMark(a,e)(n,o)}},e.prototype.isActive=function(e){var t=e.schema.marks[this.name];return!!t&&p.isMarkActive(e,t)},e.prototype.getActiveColors=function(e){var t=this;if(!this.isActive(e))return[];var n=e.schema;return p.getSelectionMarks(e).filter((function(e){return e.type===n.marks[t.name]})).map((function(e){return e.attrs.color})).filter(Boolean)},e.prototype.remove=function(){var e=this;return function(t,n){var o=t.schema.marks[e.name];return!!o&&u.removeMark(o)(t,n)}},e.prototype.canExecute=function(e){var t="text_color"===this.name?{color:""}:{backgroundColor:""};return this.apply(t)(e)},e}(),W=new L("strong"),$=new L("em"),G=new L("code"),K=new L("u"),J=new L("s"),Q=new T,X=new j(!0),Y=new j(!1),Z=new V(1),ee=new V(2),te=new V(3),ne=new V(4),oe=new V(5),re=new V(6),ie=new A("left"),se=new A("center"),ae=new A("right"),ce=new A("justify"),le=new B,ue=new q,pe=new U("text_color"),de=new U("text_background_color"),ge={bold:W,italic:$,code:G,underline:K,strike:J,blockquote:Q,bullet_list:X,ordered_list:Y,h1:Z,h2:ee,h3:te,h4:ne,h5:oe,h6:re,align_left:ie,align_center:se,align_right:ae,align_justify:ce},me=le,fe=ue,he=pe,ve=de,xe={bold:"Bold",italic:"Italic",code:"Code",underline:"Underline",strike:"Strike",blockquote:"Blockquote",bullet_list:"Bullet List",ordered_list:"Ordered List",heading:"Heading",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6",align_left:"Left Align",align_center:"Center Align",align_right:"Right Align",align_justify:"Justify",text_color:"Text Color",background_color:"Background Color",url:"URL",text:"Text",openInNewTab:"Open in new tab",insert:"Insert",altText:"Alt Text",title:"Title",remove:"Remove"},ye=function(e){var t=this;void 0===e&&(e={}),this.locals=xe,this.get=function(e){var n;return null!==(n=t.locals[e])&&void 0!==n?n:""},this.locals=Object.assign({},xe,e)},_e=function(){this.locals={}};_e.ɵfac=function(e){return new(e||_e)},_e.ɵprov=t.ɵɵdefineInjectable({token:_e,factory:_e.ɵfac,providedIn:"root"}),("undefined"==typeof ngDevMode||ngDevMode)&&t.ɵsetClassMetadata(_e,[{type:t.Injectable,args:[{providedIn:"root"}]}],null,null);var be=function(){function e(e){this.config=e}return Object.defineProperty(e.prototype,"locals",{get:function(){return new ye(this.config.locals)},enumerable:!1,configurable:!0}),e}();be.ɵfac=function(e){return new(e||be)(t.ɵɵinject(_e,8))},be.ɵprov=t.ɵɵdefineInjectable({token:be,factory:be.ɵfac,providedIn:"root"}),("undefined"==typeof ngDevMode||ngDevMode)&&t.ɵsetClassMetadata(be,[{type:t.Injectable,args:[{providedIn:"root"}]}],(function(){return[{type:_e,decorators:[{type:t.Optional}]}]}),null);var we=function(e){var t;return{locals:null!==(t=e.locals)&&void 0!==t?t:{}}},Ce=function(){function e(e){this.sanitizer=e}return e.prototype.transform=function(e){return this.sanitizer.bypassSecurityTrustHtml(e)},e}();Ce.ɵfac=function(e){return new(e||Ce)(t.ɵɵdirectiveInject(g.DomSanitizer))},Ce.ɵpipe=t.ɵɵdefinePipe({name:"sanitizeHtml",type:Ce,pure:!0}),("undefined"==typeof ngDevMode||ngDevMode)&&t.ɵsetClassMetadata(Ce,[{type:t.Pipe,args:[{name:"sanitizeHtml"}]}],(function(){return[{type:g.DomSanitizer}]}),null);var Ee=function(){function e(e,t){var n=this;this.ngxeService=e,this.menuService=t,this.isActive=!1,this.disabled=!1,this.update=function(e){var t=e.state,o=ge[n.name];n.isActive=o.isActive(t),n.disabled=!o.canExecute(t)}}return Object.defineProperty(e.prototype,"name",{get:function(){return this.toolbarItem},enumerable:!1,configurable:!0}),e.prototype.toggle=function(e){if(e.preventDefault(),0===e.button){var t=this.editorView,n=t.state,o=t.dispatch;ge[this.name].toggle()(n,o)}},e.prototype.getTitle=function(e){return this.ngxeService.locals.get(e)},e.prototype.ngOnInit=function(){var e=this;this.html=R.get(this.name),this.editorView=this.menuService.editor.view,this.updateSubscription=this.menuService.editor.update.subscribe((function(t){e.update(t)}))},e.prototype.ngOnDestroy=function(){this.updateSubscription.unsubscribe()},e}();function Me(e,n){if(1&e&&(t.ɵɵelementStart(0,"div",12),t.ɵɵtext(1),t.ɵɵelementEnd()),2&e){var o=t.ɵɵnextContext(2);t.ɵɵadvance(1),t.ɵɵtextInterpolate1(" ",(null==o.href.errors?null:o.href.errors.pattern)&&"Please enter valid url."," ")}}function Ne(e,n){if(1&e&&(t.ɵɵelementStart(0,"div",12),t.ɵɵtext(1),t.ɵɵelementEnd()),2&e){var o=t.ɵɵnextContext(2);t.ɵɵadvance(1),t.ɵɵtextInterpolate1(" ",(null==o.text.errors?null:o.text.errors.required)&&"This is required"," ")}}function Ie(e,n){if(1&e){var o=t.ɵɵgetCurrentView();t.ɵɵelementStart(0,"div",2),t.ɵɵelementStart(1,"form",3),t.ɵɵlistener("ngSubmit",(function(e){return t.ɵɵrestoreView(o),t.ɵɵnextContext().insertLink(e)})),t.ɵɵelementStart(2,"div",4),t.ɵɵelementStart(3,"div",5),t.ɵɵelementStart(4,"label",6),t.ɵɵtext(5),t.ɵɵelementEnd(),t.ɵɵelement(6,"input",7),t.ɵɵtemplate(7,Me,2,1,"div",8),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementStart(8,"div",4),t.ɵɵelementStart(9,"div",5),t.ɵɵelementStart(10,"label",6),t.ɵɵtext(11),t.ɵɵelementEnd(),t.ɵɵelement(12,"input",9),t.ɵɵtemplate(13,Ne,2,1,"div",8),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementStart(14,"div",4),t.ɵɵelementStart(15,"div",5),t.ɵɵelementStart(16,"label"),t.ɵɵelement(17,"input",10),t.ɵɵtext(18),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementStart(19,"button",11),t.ɵɵtext(20),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementEnd()}if(2&e){var r=t.ɵɵnextContext();t.ɵɵadvance(1),t.ɵɵproperty("formGroup",r.form),t.ɵɵadvance(4),t.ɵɵtextInterpolate(r.getLabel("url")),t.ɵɵadvance(2),t.ɵɵproperty("ngIf",r.href.touched&&r.href.invalid),t.ɵɵadvance(4),t.ɵɵtextInterpolate(r.getLabel("text")),t.ɵɵadvance(2),t.ɵɵproperty("ngIf",r.text.touched&&r.text.invalid),t.ɵɵadvance(5),t.ɵɵtextInterpolate1(" ",r.getLabel("openInNewTab")," "),t.ɵɵadvance(1),t.ɵɵproperty("disabled",!r.form.valid),t.ɵɵadvance(1),t.ɵɵtextInterpolate(r.getLabel("insert"))}}Ee.ɵfac=function(e){return new(e||Ee)(t.ɵɵdirectiveInject(be),t.ɵɵdirectiveInject(z))},Ee.ɵcmp=t.ɵɵdefineComponent({type:Ee,selectors:[["ngx-toggle-command"]],hostVars:4,hostBindings:function(e,n){2&e&&t.ɵɵclassProp("NgxEditor__MenuItem--Active",n.isActive)("NgxEditor--Disabled",n.disabled)},inputs:{toolbarItem:"toolbarItem"},decls:2,vars:4,consts:[[1,"NgxEditor__MenuItem--IconContainer",3,"innerHTML","title","mousedown"]],template:function(e,n){1&e&&(t.ɵɵelementStart(0,"div",0),t.ɵɵlistener("mousedown",(function(e){return n.toggle(e)})),t.ɵɵpipe(1,"sanitizeHtml"),t.ɵɵelementEnd()),2&e&&t.ɵɵproperty("innerHTML",t.ɵɵpipeBind1(1,2,n.html),t.ɵɵsanitizeHtml)("title",n.getTitle(n.name))},pipes:[Ce],styles:[""]}),("undefined"==typeof ngDevMode||ngDevMode)&&t.ɵsetClassMetadata(Ee,[{type:t.Component,args:[{selector:"ngx-toggle-command",templateUrl:"./toggle-command.component.html",styleUrls:["./toggle-command.component.scss"]}]}],(function(){return[{type:be},{type:z}]}),{toolbarItem:[{type:t.Input}],isActive:[{type:t.HostBinding,args:["class.NgxEditor__MenuItem--Active"]}],disabled:[{type:t.HostBinding,args:["class.NgxEditor--Disabled"]}]});var Pe=function(){function e(e,t,o){var r=this;this.el=e,this.ngxeService=t,this.menuService=o,this.showPopup=!1,this.isActive=!1,this.canExecute=!0,this.form=new n.FormGroup({href:new n.FormControl("",[n.Validators.required,n.Validators.pattern("(https?://)?([\\da-z.-]+)\\.([a-z.]{2,6})[/\\w .-]*/?")]),text:new n.FormControl("",[n.Validators.required]),openInNewTab:new n.FormControl(!0)}),this.setText=function(){var e=r.editorView.state,t=e.selection,n=e.doc,o=t.empty,i=t.from,s=t.to,a=o?"":n.textBetween(i,s);a&&(r.text.patchValue(a),r.text.disable())},this.update=function(e){var t=e.state;r.isActive=me.isActive(t,{strict:!1}),r.canExecute=me.canExecute(t)}}return Object.defineProperty(e.prototype,"valid",{get:function(){return this.isActive||this.showPopup},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{get:function(){return!this.canExecute},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"icon",{get:function(){return R.get(this.isActive?"unlink":"link")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"href",{get:function(){return this.form.get("href")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this.form.get("text")},enumerable:!1,configurable:!0}),e.prototype.onDocumentClick=function(e){!this.el.nativeElement.contains(e.target)&&this.showPopup&&this.hideForm()},e.prototype.getLabel=function(e){return this.ngxeService.locals.get(e)},e.prototype.hideForm=function(){this.showPopup=!1,this.form.reset({href:"",text:"",openInNewTab:!0}),this.text.enable()},e.prototype.onMouseDown=function(e){if(e.preventDefault(),0===e.button){var t=this.editorView,n=t.state,o=t.dispatch;this.isActive?me.remove(n,o):(this.showPopup=!this.showPopup,this.showPopup&&this.setText())}},e.prototype.insertLink=function(e){e.preventDefault();var t=this.form.getRawValue(),n=t.text,o=t.href,r=t.openInNewTab,i=this.editorView,s=i.dispatch,a=i.state,c={title:o,href:o,target:r?"_blank":"_self"};a.selection.empty?(me.insert(n,c)(a,s),this.editorView.focus()):me.update(c)(a,s),this.hideForm()},e.prototype.ngOnInit=function(){var e=this;this.editorView=this.menuService.editor.view,this.updateSubscription=this.menuService.editor.update.subscribe((function(t){e.update(t)}))},e.prototype.ngOnDestroy=function(){this.updateSubscription.unsubscribe()},e}();function Se(e,n){if(1&e&&(t.ɵɵelementStart(0,"div",12),t.ɵɵtext(1),t.ɵɵelementEnd()),2&e){var o=t.ɵɵnextContext(2);t.ɵɵadvance(1),t.ɵɵtextInterpolate1(" ",(null==o.src.errors?null:o.src.errors.pattern)&&"Please enter valid url."," ")}}function ke(e,n){if(1&e){var o=t.ɵɵgetCurrentView();t.ɵɵelementStart(0,"div",2),t.ɵɵelementStart(1,"form",3),t.ɵɵlistener("ngSubmit",(function(e){return t.ɵɵrestoreView(o),t.ɵɵnextContext().insertLink(e)})),t.ɵɵelementStart(2,"div",4),t.ɵɵelementStart(3,"div",5),t.ɵɵelementStart(4,"label",6),t.ɵɵtext(5),t.ɵɵelementEnd(),t.ɵɵelement(6,"input",7),t.ɵɵtemplate(7,Se,2,1,"div",8),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementStart(8,"div",4),t.ɵɵelementStart(9,"div",5),t.ɵɵelementStart(10,"label",6),t.ɵɵtext(11),t.ɵɵelementEnd(),t.ɵɵelement(12,"input",9),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementStart(13,"div",4),t.ɵɵelementStart(14,"div",5),t.ɵɵelementStart(15,"label",6),t.ɵɵtext(16),t.ɵɵelementEnd(),t.ɵɵelement(17,"input",10),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementStart(18,"button",11),t.ɵɵtext(19),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementEnd()}if(2&e){var r=t.ɵɵnextContext();t.ɵɵadvance(1),t.ɵɵproperty("formGroup",r.form),t.ɵɵadvance(4),t.ɵɵtextInterpolate(r.getLabel("url")),t.ɵɵadvance(2),t.ɵɵproperty("ngIf",r.src.touched&&r.src.invalid),t.ɵɵadvance(4),t.ɵɵtextInterpolate(r.getLabel("altText")),t.ɵɵadvance(5),t.ɵɵtextInterpolate(r.getLabel("title")),t.ɵɵadvance(2),t.ɵɵproperty("disabled",!r.form.valid||!r.form.dirty),t.ɵɵadvance(1),t.ɵɵtextInterpolate(r.getLabel("insert"))}}Pe.ɵfac=function(e){return new(e||Pe)(t.ɵɵdirectiveInject(t.ElementRef),t.ɵɵdirectiveInject(be),t.ɵɵdirectiveInject(z))},Pe.ɵcmp=t.ɵɵdefineComponent({type:Pe,selectors:[["ngx-link"]],hostVars:4,hostBindings:function(e,n){1&e&&t.ɵɵlistener("mousedown",(function(e){return n.onDocumentClick(e)}),!1,t.ɵɵresolveDocument),2&e&&t.ɵɵclassProp("NgxEditor__MenuItem--Active",n.valid)("NgxEditor--Disabled",n.disabled)},decls:3,vars:4,consts:[[1,"NgxEditor__MenuItem--IconContainer",3,"innerHTML","mousedown"],["class","NgxEditor__Popup",4,"ngIf"],[1,"NgxEditor__Popup"],[1,"NgxEditor__Popup--Form",3,"formGroup","ngSubmit"],[1,"NgxEditor__Popup--FormGroup"],[1,"NgxEditor__Popup--Col"],[1,"NgxEditor__Popup--Label"],["type","href","id","href","formControlName","href","autofocus","","autocomplete","off"],["class","NgxEditor__HelpText NgxEditor__HelpText--Error",4,"ngIf"],["type","text","formControlName","text","autocomplete","off"],["type","checkbox","formControlName","openInNewTab"],["type","submit",3,"disabled"],[1,"NgxEditor__HelpText","NgxEditor__HelpText--Error"]],template:function(e,n){1&e&&(t.ɵɵelementStart(0,"div",0),t.ɵɵlistener("mousedown",(function(e){return n.onMouseDown(e)})),t.ɵɵpipe(1,"sanitizeHtml"),t.ɵɵelementEnd(),t.ɵɵtemplate(2,Ie,21,8,"div",1)),2&e&&(t.ɵɵproperty("innerHTML",t.ɵɵpipeBind1(1,2,n.icon),t.ɵɵsanitizeHtml),t.ɵɵadvance(2),t.ɵɵproperty("ngIf",n.showPopup))},directives:[i.NgIf,n.ɵangular_packages_forms_forms_ba,n.NgControlStatusGroup,n.FormGroupDirective,n.DefaultValueAccessor,n.NgControlStatus,n.FormControlName,n.CheckboxControlValueAccessor],pipes:[Ce],styles:[""]}),("undefined"==typeof ngDevMode||ngDevMode)&&t.ɵsetClassMetadata(Pe,[{type:t.Component,args:[{selector:"ngx-link",templateUrl:"./link.component.html",styleUrls:["./link.component.scss"]}]}],(function(){return[{type:t.ElementRef},{type:be},{type:z}]}),{valid:[{type:t.HostBinding,args:["class.NgxEditor__MenuItem--Active"]}],disabled:[{type:t.HostBinding,args:["class.NgxEditor--Disabled"]}],onDocumentClick:[{type:t.HostListener,args:["document:mousedown",["$event"]]}]});var De=function(){function e(e,t,o){var r=this;this.el=e,this.ngxeService=t,this.menuService=o,this.showPopup=!1,this.isActive=!1,this.form=new n.FormGroup({src:new n.FormControl("",[n.Validators.required,n.Validators.pattern("(https?://)?([\\da-z.-]+)\\.([a-z.]{2,6})[/\\w .-]*/?")]),alt:new n.FormControl(""),title:new n.FormControl("")}),this.update=function(e){var t=e.state;r.isActive=fe.isActive(t)}}return Object.defineProperty(e.prototype,"valid",{get:function(){return this.isActive||this.showPopup},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"icon",{get:function(){return R.get("image")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"src",{get:function(){return this.form.get("src")},enumerable:!1,configurable:!0}),e.prototype.onDocumentClick=function(e){!this.el.nativeElement.contains(e.target)&&this.showPopup&&this.hideForm()},e.prototype.getLabel=function(e){return this.ngxeService.locals.get(e)},e.prototype.hideForm=function(){this.showPopup=!1,this.form.reset({src:"",alt:"",title:""})},e.prototype.onMouseDown=function(e){e.preventDefault(),0===e.button&&(this.showPopup=!this.showPopup,this.showPopup&&this.fillForm())},e.prototype.fillForm=function(){var e=this.editorView.state.selection;if(e instanceof o.NodeSelection&&this.isActive){var t=e.node.attrs,n=t.src,r=t.alt,i=void 0===r?"":r,s=t.title,a=void 0===s?"":s;this.form.setValue({src:n,alt:i,title:a})}},e.prototype.insertLink=function(e){e.preventDefault();var t=this.form.getRawValue(),n=t.src,o=t.alt,r=t.title,i=this.editorView,s=i.dispatch,a=i.state,c={alt:o,title:r};fe.insert(n,c)(a,s),this.editorView.focus(),this.hideForm()},e.prototype.ngOnInit=function(){var e=this;this.editorView=this.menuService.editor.view,this.updateSubscription=this.menuService.editor.update.subscribe((function(t){e.update(t)}))},e.prototype.ngOnDestroy=function(){this.updateSubscription.unsubscribe()},e}();De.ɵfac=function(e){return new(e||De)(t.ɵɵdirectiveInject(t.ElementRef),t.ɵɵdirectiveInject(be),t.ɵɵdirectiveInject(z))},De.ɵcmp=t.ɵɵdefineComponent({type:De,selectors:[["ngx-image"]],hostVars:2,hostBindings:function(e,n){1&e&&t.ɵɵlistener("mousedown",(function(e){return n.onDocumentClick(e)}),!1,t.ɵɵresolveDocument),2&e&&t.ɵɵclassProp("NgxEditor__MenuItem--Active",n.valid)},decls:3,vars:4,consts:[[1,"NgxEditor__MenuItem--IconContainer",3,"innerHTML","mousedown"],["class","NgxEditor__Popup",4,"ngIf"],[1,"NgxEditor__Popup"],[1,"NgxEditor__Popup--Form",3,"formGroup","ngSubmit"],[1,"NgxEditor__Popup--FormGroup"],[1,"NgxEditor__Popup--Col"],[1,"NgxEditor__Popup--Label"],["type","href","id","href","formControlName","src","autofocus","","autocomplete","off"],["class","NgxEditor__HelpText NgxEditor__HelpText--Error",4,"ngIf"],["type","text","formControlName","alt","autocomplete","off"],["type","text","formControlName","title","autocomplete","off"],["type","submit",3,"disabled"],[1,"NgxEditor__HelpText","NgxEditor__HelpText--Error"]],template:function(e,n){1&e&&(t.ɵɵelementStart(0,"div",0),t.ɵɵlistener("mousedown",(function(e){return n.onMouseDown(e)})),t.ɵɵpipe(1,"sanitizeHtml"),t.ɵɵelementEnd(),t.ɵɵtemplate(2,ke,20,7,"div",1)),2&e&&(t.ɵɵproperty("innerHTML",t.ɵɵpipeBind1(1,2,n.icon),t.ɵɵsanitizeHtml),t.ɵɵadvance(2),t.ɵɵproperty("ngIf",n.showPopup))},directives:[i.NgIf,n.ɵangular_packages_forms_forms_ba,n.NgControlStatusGroup,n.FormGroupDirective,n.DefaultValueAccessor,n.NgControlStatus,n.FormControlName],pipes:[Ce],styles:[""]}),("undefined"==typeof ngDevMode||ngDevMode)&&t.ɵsetClassMetadata(De,[{type:t.Component,args:[{selector:"ngx-image",templateUrl:"./image.component.html",styleUrls:["./image.component.scss"]}]}],(function(){return[{type:t.ElementRef},{type:be},{type:z}]}),{valid:[{type:t.HostBinding,args:["class.NgxEditor__MenuItem--Active"]}],onDocumentClick:[{type:t.HostListener,args:["document:mousedown",["$event"]]}]});var Oe=function(e,t){return{"NgxEditor__Dropdown--Active":e,"NgxEditor--Disabled":t}};function ze(e,n){if(1&e){var o=t.ɵɵgetCurrentView();t.ɵɵelementStart(0,"div",4),t.ɵɵlistener("mousedown",(function(e){t.ɵɵrestoreView(o);var r=n.$implicit;return t.ɵɵnextContext(2).onClick(e,r)})),t.ɵɵtext(1),t.ɵɵelementEnd()}if(2&e){var r=n.$implicit,i=t.ɵɵnextContext(2);t.ɵɵproperty("ngClass",t.ɵɵpureFunction2(2,Oe,r===i.activeItem,i.disabledItems.includes(r))),t.ɵɵadvance(1),t.ɵɵtextInterpolate1(" ",i.getName(r)," ")}}function He(e,n){if(1&e&&(t.ɵɵelementStart(0,"div",2),t.ɵɵtemplate(1,ze,2,5,"div",3),t.ɵɵelementEnd()),2&e){var o=t.ɵɵnextContext();t.ɵɵadvance(1),t.ɵɵproperty("ngForOf",o.items)}}var Re=function(){function e(e,t,n){var o=this;this.ngxeService=e,this.menuService=t,this.el=n,this.isDropdownOpen=!1,this.activeItems=[],this.disabledItems=[],this.update=function(e){var t=e.state;o.activeItems=[],o.disabledItems=[],o.items.forEach((function(e){var n=ge[e];n.isActive(t)&&o.activeItems.push(e),n.canExecute(t)||o.disabledItems.push(e)})),1===o.activeItems.length?o.activeItem=o.activeItems[0]:o.activeItem=null}}return Object.defineProperty(e.prototype,"isSelected",{get:function(){return Boolean(this.activeItem||this.isDropdownOpen)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isDropdownDisabled",{get:function(){return this.disabledItems.length===this.items.length},enumerable:!1,configurable:!0}),e.prototype.onDocumentClick=function(e){!this.el.nativeElement.contains(e)&&this.isDropdownOpen&&(this.isDropdownOpen=!1)},e.prototype.getName=function(e){return this.ngxeService.locals.get(e)},e.prototype.toggleDropdown=function(e){e.preventDefault(),this.isDropdownOpen=!this.isDropdownOpen},e.prototype.onClick=function(e,t){if(e.preventDefault(),0===e.button){var n=ge[t],o=this.editorView,r=o.state,i=o.dispatch;n.toggle()(r,i),this.isDropdownOpen=!1}},e.prototype.ngOnInit=function(){var e=this;this.editorView=this.menuService.editor.view,this.updateSubscription=this.menuService.editor.update.subscribe((function(t){e.update(t)}))},e.prototype.ngOnDestroy=function(){this.updateSubscription.unsubscribe()},e}();Re.ɵfac=function(e){return new(e||Re)(t.ɵɵdirectiveInject(be),t.ɵɵdirectiveInject(z),t.ɵɵdirectiveInject(t.ElementRef))},Re.ɵcmp=t.ɵɵdefineComponent({type:Re,selectors:[["ngx-dropdown"]],hostVars:4,hostBindings:function(e,n){1&e&&t.ɵɵlistener("mousedown",(function(e){return n.onDocumentClick(e.target)}),!1,t.ɵɵresolveDocument),2&e&&t.ɵɵclassProp("NgxEditor__Dropdown--Selected",n.isSelected)("NgxEditor--Disabled",n.isDropdownDisabled)},inputs:{group:"group",items:"items"},decls:3,vars:2,consts:[[1,"NgxEditor__Dropdown--Text",3,"mousedown"],["class","NgxEditor__Dropdown--DropdownMenu",4,"ngIf"],[1,"NgxEditor__Dropdown--DropdownMenu"],["class","NgxEditor__Dropdown--Item",3,"ngClass","mousedown",4,"ngFor","ngForOf"],[1,"NgxEditor__Dropdown--Item",3,"ngClass","mousedown"]],template:function(e,n){1&e&&(t.ɵɵelementStart(0,"div",0),t.ɵɵlistener("mousedown",(function(e){return n.toggleDropdown(e)})),t.ɵɵtext(1),t.ɵɵelementEnd(),t.ɵɵtemplate(2,He,2,1,"div",1)),2&e&&(t.ɵɵadvance(1),t.ɵɵtextInterpolate1(" ",n.getName(n.activeItem||n.group),"\n"),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",n.isDropdownOpen))},directives:[i.NgIf,i.NgForOf,i.NgClass],styles:[""]}),("undefined"==typeof ngDevMode||ngDevMode)&&t.ɵsetClassMetadata(Re,[{type:t.Component,args:[{selector:"ngx-dropdown",templateUrl:"./dropdown.component.html",styleUrls:["./dropdown.component.scss"]}]}],(function(){return[{type:be},{type:z},{type:t.ElementRef}]}),{group:[{type:t.Input}],items:[{type:t.Input}],isSelected:[{type:t.HostBinding,args:["class.NgxEditor__Dropdown--Selected"]}],isDropdownDisabled:[{type:t.HostBinding,args:["class.NgxEditor--Disabled"]}],onDocumentClick:[{type:t.HostListener,args:["document:mousedown",["$event.target"]]}]});var Le=function(e,t){return{backgroundColor:e,color:t}},Te=function(e){return{"NgxEditor__Color--Active":e}};function je(e,n){if(1&e){var o=t.ɵɵgetCurrentView();t.ɵɵelementStart(0,"button",7),t.ɵɵlistener("mousedown",(function(e){t.ɵɵrestoreView(o);var r=n.$implicit;return t.ɵɵnextContext(3).onColorSelect(e,r)})),t.ɵɵelementEnd()}if(2&e){var r=n.$implicit,i=t.ɵɵnextContext(3);t.ɵɵproperty("ngStyle",t.ɵɵpureFunction2(3,Le,r,i.getContrastYIQ(r)))("title",r)("ngClass",t.ɵɵpureFunction1(6,Te,i.activeColors.includes(r)))}}function Ve(e,n){if(1&e&&(t.ɵɵelementStart(0,"div",5),t.ɵɵtemplate(1,je,1,8,"button",6),t.ɵɵelementEnd()),2&e){var o=n.$implicit;t.ɵɵadvance(1),t.ɵɵproperty("ngForOf",o)}}function Ae(e,n){if(1&e){var o=t.ɵɵgetCurrentView();t.ɵɵelementStart(0,"div",2),t.ɵɵtemplate(1,Ve,2,1,"div",3),t.ɵɵelementStart(2,"button",4),t.ɵɵlistener("mousedown",(function(e){return t.ɵɵrestoreView(o),t.ɵɵnextContext().remove(e)})),t.ɵɵtext(3),t.ɵɵelementEnd(),t.ɵɵelementEnd()}if(2&e){var r=t.ɵɵnextContext();t.ɵɵadvance(1),t.ɵɵproperty("ngForOf",r.presets),t.ɵɵadvance(1),t.ɵɵproperty("disabled",!r.isActive),t.ɵɵadvance(1),t.ɵɵtextInterpolate1(" ",r.getLabel("remove")," ")}}var Fe=function(){function e(e,t,n){var o=this;this.el=e,this.menuService=t,this.ngxeService=n,this.showPopup=!1,this.isActive=!1,this.activeColors=[],this.canExecute=!0,this.update=function(e){var t=e.state;o.canExecute=o.command.canExecute(t),o.isActive=o.command.isActive(t),o.activeColors=[],o.isActive&&(o.activeColors=o.command.getActiveColors(t))}}return Object.defineProperty(e.prototype,"valid",{get:function(){return this.isActive||this.showPopup},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{get:function(){return!this.canExecute},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"title",{get:function(){return this.getLabel("text_color"===this.type?"text_color":"background_color")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"icon",{get:function(){return R.get("text_color"===this.type?"text_color":"color_fill")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"command",{get:function(){return"text_color"===this.type?he:ve},enumerable:!1,configurable:!0}),e.prototype.getContrastYIQ=function(e){return e=e.replace("#",""),(299*parseInt(e.substr(0,2),16)+587*parseInt(e.substr(2,2),16)+114*parseInt(e.substr(4,2),16))/1e3>=128?"black":"white"},e.prototype.onDocumentClick=function(e){!this.el.nativeElement.contains(e.target)&&this.showPopup&&this.hidePopup()},e.prototype.hidePopup=function(){this.showPopup=!1},e.prototype.togglePopup=function(e){e.preventDefault(),0===e.button&&(this.showPopup=!this.showPopup)},e.prototype.remove=function(e){e.preventDefault();var t=this.editorView,n=t.state,o=t.dispatch;this.command.remove()(n,o),this.hidePopup()},e.prototype.onColorSelect=function(e,t){if(e.preventDefault(),0===e.button){var n=this.editorView,o=n.state,r=n.dispatch;if("text_color"===this.type){var i={color:t};this.command.apply(i)(o,r)}else{i={backgroundColor:t};this.command.apply(i)(o,r)}this.editorView.hasFocus()||this.editorView.focus(),this.hidePopup()}},e.prototype.getLabel=function(e){return this.ngxeService.locals.get(e)},e.prototype.ngOnInit=function(){var e=this;this.editorView=this.menuService.editor.view,this.updateSubscription=this.menuService.editor.update.subscribe((function(t){e.update(t)}))},e.prototype.ngOnDestroy=function(){this.updateSubscription.unsubscribe()},e}();function Be(e,n){if(1&e&&t.ɵɵelement(0,"ngx-toggle-command",7),2&e){var o=t.ɵɵnextContext().$implicit,r=t.ɵɵnextContext(2);t.ɵɵclassMap(r.iconContainerClass),t.ɵɵproperty("toolbarItem",o)}}function qe(e,n){if(1&e&&t.ɵɵelement(0,"ngx-link"),2&e){var o=t.ɵɵnextContext(3);t.ɵɵclassMap(o.iconContainerClass)}}function Ue(e,n){if(1&e&&t.ɵɵelement(0,"ngx-image"),2&e){var o=t.ɵɵnextContext(3);t.ɵɵclassMap(o.iconContainerClass)}}function We(e,n){if(1&e&&t.ɵɵelement(0,"ngx-dropdown",9),2&e){var o=n.$implicit,r=t.ɵɵnextContext(4);t.ɵɵclassMap(r.dropdownContainerClass),t.ɵɵproperty("group",o.key)("items",o.value)}}function $e(e,n){if(1&e&&(t.ɵɵelementContainerStart(0),t.ɵɵtemplate(1,We,1,4,"ngx-dropdown",8),t.ɵɵpipe(2,"keyvalue"),t.ɵɵelementContainerEnd()),2&e){var o=t.ɵɵnextContext().$implicit,r=t.ɵɵnextContext(2);t.ɵɵadvance(1),t.ɵɵproperty("ngForOf",t.ɵɵpipeBind1(2,1,r.getDropdownItems(o)))}}function Ge(e,n){if(1&e&&t.ɵɵelement(0,"ngx-color-picker",10),2&e){var o=t.ɵɵnextContext(3);t.ɵɵclassMap(o.iconContainerClass),t.ɵɵproperty("presets",o.presets)}}function Ke(e,n){if(1&e&&t.ɵɵelement(0,"ngx-color-picker",11),2&e){var o=t.ɵɵnextContext(3);t.ɵɵclassMap(o.iconContainerClass),t.ɵɵproperty("presets",o.presets)}}function Je(e,n){if(1&e&&t.ɵɵelement(0,"div"),2&e){var o=t.ɵɵnextContext(3);t.ɵɵclassMap(o.seperatorClass)}}function Qe(e,n){if(1&e&&(t.ɵɵelementContainerStart(0),t.ɵɵtemplate(1,Be,1,3,"ngx-toggle-command",3),t.ɵɵtemplate(2,qe,1,2,"ngx-link",4),t.ɵɵtemplate(3,Ue,1,2,"ngx-image",4),t.ɵɵtemplate(4,$e,3,3,"ng-container",2),t.ɵɵtemplate(5,Ge,1,3,"ngx-color-picker",5),t.ɵɵtemplate(6,Ke,1,3,"ngx-color-picker",6),t.ɵɵtemplate(7,Je,1,2,"div",4),t.ɵɵelementContainerEnd()),2&e){var o=n.$implicit,r=n.last,i=t.ɵɵnextContext().last,s=t.ɵɵnextContext();t.ɵɵadvance(1),t.ɵɵproperty("ngIf",s.toggleCommands.includes(o)),t.ɵɵadvance(1),t.ɵɵproperty("ngIf","link"===o),t.ɵɵadvance(1),t.ɵɵproperty("ngIf","image"===o),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",s.isDropDown(o)),t.ɵɵadvance(1),t.ɵɵproperty("ngIf","text_color"===o),t.ɵɵadvance(1),t.ɵɵproperty("ngIf","background_color"===o),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",r&&!i)}}function Xe(e,n){if(1&e&&(t.ɵɵelementContainerStart(0),t.ɵɵtemplate(1,Qe,8,7,"ng-container",1),t.ɵɵelementContainerEnd()),2&e){var o=n.$implicit;t.ɵɵadvance(1),t.ɵɵproperty("ngForOf",o)}}function Ye(e,n){if(1&e&&(t.ɵɵelementContainerStart(0),t.ɵɵelementContainer(1,12),t.ɵɵelementContainerEnd()),2&e){var o=t.ɵɵnextContext();t.ɵɵadvance(1),t.ɵɵproperty("ngTemplateOutlet",o.customMenuRef)}}Fe.ɵfac=function(e){return new(e||Fe)(t.ɵɵdirectiveInject(t.ElementRef),t.ɵɵdirectiveInject(z),t.ɵɵdirectiveInject(be))},Fe.ɵcmp=t.ɵɵdefineComponent({type:Fe,selectors:[["ngx-color-picker"]],hostVars:4,hostBindings:function(e,n){1&e&&t.ɵɵlistener("mousedown",(function(e){return n.onDocumentClick(e)}),!1,t.ɵɵresolveDocument),2&e&&t.ɵɵclassProp("NgxEditor__MenuItem--Active",n.valid)("NgxEditor--Disabled",n.disabled)},inputs:{presets:"presets",type:"type"},decls:3,vars:5,consts:[[1,"NgxEditor__MenuItem--IconContainer",3,"innerHTML","title","mousedown"],["class","NgxEditor__Popup",4,"ngIf"],[1,"NgxEditor__Popup"],["class","NgxEditor__ColorContainer",4,"ngFor","ngForOf"],[1,"NgxEditor__MenuItem--Button",3,"disabled","mousedown"],[1,"NgxEditor__ColorContainer"],["class","NgxEditor__Color",3,"ngStyle","title","ngClass","mousedown",4,"ngFor","ngForOf"],[1,"NgxEditor__Color",3,"ngStyle","title","ngClass","mousedown"]],template:function(e,n){1&e&&(t.ɵɵelementStart(0,"div",0),t.ɵɵlistener("mousedown",(function(e){return n.togglePopup(e)})),t.ɵɵpipe(1,"sanitizeHtml"),t.ɵɵelementEnd(),t.ɵɵtemplate(2,Ae,4,3,"div",1)),2&e&&(t.ɵɵproperty("innerHTML",t.ɵɵpipeBind1(1,3,n.icon),t.ɵɵsanitizeHtml)("title",n.title),t.ɵɵadvance(2),t.ɵɵproperty("ngIf",n.showPopup))},directives:[i.NgIf,i.NgForOf,i.NgStyle,i.NgClass],pipes:[Ce],styles:['@charset "UTF-8";.NgxEditor__Popup[_ngcontent-%COMP%]{width:230px}.NgxEditor__ColorContainer[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.NgxEditor__ColorContainer[_ngcontent-%COMP%] + .NgxEditor__ColorContainer[_ngcontent-%COMP%]{margin-top:5px}.NgxEditor__Color[_ngcontent-%COMP%]{border:none;outline:none;border-radius:6px;width:24px;height:24px;flex-shrink:0}.NgxEditor__Color--Active[_ngcontent-%COMP%]:after{content:"✔";font-size:90%}.NgxEditor__MenuItem--Button[_ngcontent-%COMP%]{margin-top:5px}']}),("undefined"==typeof ngDevMode||ngDevMode)&&t.ɵsetClassMetadata(Fe,[{type:t.Component,args:[{selector:"ngx-color-picker",templateUrl:"./color-picker.component.html",styleUrls:["./color-picker.component.scss"]}]}],(function(){return[{type:t.ElementRef},{type:z},{type:be}]}),{presets:[{type:t.Input}],type:[{type:t.Input}],valid:[{type:t.HostBinding,args:["class.NgxEditor__MenuItem--Active"]}],disabled:[{type:t.HostBinding,args:["class.NgxEditor--Disabled"]}],onDocumentClick:[{type:t.HostListener,args:["document:mousedown",["$event"]]}]});var Ze=function(e){return{"NgxEditor--Disabled":e}},et=[["bold","italic"],["code","blockquote"],["underline","strike"],["ordered_list","bullet_list"],[{heading:["h1","h2","h3","h4","h5","h6"]}],["link","image"],["text_color","background_color"],["align_left","align_center","align_right","align_justify"]],tt=["#b60205","#d93f0b","#fbca04","#0e8a16","#006b75","#1d76db","#0052cc","#5319e7","#e99695","#f9d0c4","#fef2c0","#c2e0c6","#bfdadc","#c5def5","#bfd4f2","#d4c5f9"],nt=function(){function e(e){this.menuService=e,this.toolbar=et,this.colorPresets=tt,this.disabled=!1,this.customMenuRef=null,this.toggleCommands=["bold","italic","underline","strike","code","blockquote","ordered_list","bullet_list","align_left","align_center","align_right","align_justify"],this.iconContainerClass=["NgxEditor__MenuItem","NgxEditor__MenuItem--Icon"],this.dropdownContainerClass=["NgxEditor__Dropdown"],this.seperatorClass=["NgxEditor__Seperator"]}return Object.defineProperty(e.prototype,"presets",{get:function(){var e=[];return this.colorPresets.forEach((function(t,n){var o=Math.floor(n/8);e[o]||e.push([]),e[o].push(t)})),e},enumerable:!1,configurable:!0}),e.prototype.isDropDown=function(e){var t;return!!(null===(t=e)||void 0===t?void 0:t.heading)},e.prototype.getDropdownItems=function(e){return e},e.prototype.ngOnInit=function(){if(!this.editor)throw new Error("NgxEditor: Required editor instance");this.menuService.editor=this.editor},e}();nt.ɵfac=function(e){return new(e||nt)(t.ɵɵdirectiveInject(z))},nt.ɵcmp=t.ɵɵdefineComponent({type:nt,selectors:[["ngx-editor-menu"]],inputs:{toolbar:"toolbar",colorPresets:"colorPresets",disabled:"disabled",editor:"editor",customMenuRef:"customMenuRef"},features:[t.ɵɵProvidersFeature([z])],decls:3,vars:5,consts:[[1,"NgxEditor__MenuBar",3,"ngClass"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"toolbarItem","class",4,"ngIf"],[3,"class",4,"ngIf"],["type","text_color",3,"class","presets",4,"ngIf"],["type","background_color",3,"class","presets",4,"ngIf"],[3,"toolbarItem"],[3,"class","group","items",4,"ngFor","ngForOf"],[3,"group","items"],["type","text_color",3,"presets"],["type","background_color",3,"presets"],[3,"ngTemplateOutlet"]],template:function(e,n){1&e&&(t.ɵɵelementStart(0,"div",0),t.ɵɵtemplate(1,Xe,2,1,"ng-container",1),t.ɵɵtemplate(2,Ye,2,1,"ng-container",2),t.ɵɵelementEnd()),2&e&&(t.ɵɵproperty("ngClass",t.ɵɵpureFunction1(3,Ze,n.disabled)),t.ɵɵadvance(1),t.ɵɵproperty("ngForOf",n.toolbar),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",n.customMenuRef))},directives:[i.NgClass,i.NgForOf,i.NgIf,Ee,Pe,De,Re,Fe,i.NgTemplateOutlet],pipes:[i.KeyValuePipe],styles:[""]}),("undefined"==typeof ngDevMode||ngDevMode)&&t.ɵsetClassMetadata(nt,[{type:t.Component,args:[{selector:"ngx-editor-menu",templateUrl:"./menu.component.html",styleUrls:["./menu.component.scss"],providers:[z]}]}],(function(){return[{type:z}]}),{toolbar:[{type:t.Input}],colorPresets:[{type:t.Input}],disabled:[{type:t.Input}],editor:[{type:t.Input}],customMenuRef:[{type:t.Input}]});var ot=function(e,t){return{"NgxBubbleMenu__Icon--Active":e,"NgxEditor--Disabled":t}};function rt(e,n){if(1&e){var o=t.ɵɵgetCurrentView();t.ɵɵelementStart(0,"div",3),t.ɵɵlistener("mousedown",(function(e){t.ɵɵrestoreView(o);var n=t.ɵɵnextContext().$implicit;return t.ɵɵnextContext(2).onClick(e,n)})),t.ɵɵnamespaceSVG(),t.ɵɵelement(1,"svg",4),t.ɵɵelementEnd()}if(2&e){var r=t.ɵɵnextContext().$implicit,i=t.ɵɵnextContext(2);t.ɵɵproperty("ngClass",t.ɵɵpureFunction2(3,ot,i.activeItems.includes(r),!i.execulableItems.includes(r)))("title",i.getTitle(r)),t.ɵɵadvance(1),t.ɵɵproperty("innerHTML",i.getIcon(r),t.ɵɵsanitizeHtml)}}function it(e,n){1&e&&t.ɵɵelement(0,"div",5)}function st(e,n){if(1&e&&(t.ɵɵelementContainerStart(0),t.ɵɵtemplate(1,rt,2,6,"div",1),t.ɵɵtemplate(2,it,1,0,"div",2),t.ɵɵelementContainerEnd()),2&e){var o=n.$implicit,r=n.last,i=t.ɵɵnextContext().last,s=t.ɵɵnextContext();t.ɵɵadvance(1),t.ɵɵproperty("ngIf",s.toggleCommands.includes(o)),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",r&&!i)}}function at(e,n){if(1&e&&(t.ɵɵelementContainerStart(0),t.ɵɵtemplate(1,st,3,2,"ng-container",0),t.ɵɵelementContainerEnd()),2&e){var o=n.$implicit;t.ɵɵadvance(1),t.ɵɵproperty("ngForOf",o)}}var ct=function(){function e(e,t){this.sanitizeHTML=e,this.ngxeService=t,this.execulableItems=[],this.activeItems=[],this.toolbar=[["bold","italic","underline","strike"],["ordered_list","bullet_list","blockquote","code"],["align_left","align_center","align_right","align_justify"]],this.toggleCommands=["bold","italic","underline","strike","ordered_list","bullet_list","blockquote","code","align_left","align_center","align_right","align_justify"]}return Object.defineProperty(e.prototype,"view",{get:function(){return this.editor.view},enumerable:!1,configurable:!0}),e.prototype.getIcon=function(e){var t=R.getPath(e);return this.sanitizeHTML.transform(t)},e.prototype.getTitle=function(e){return this.ngxeService.locals.get(e)},e.prototype.onClick=function(e,t){if(e.preventDefault(),e.stopPropagation(),0===e.button){var n=this.view,o=n.state,r=n.dispatch;ge[t].toggle()(o,r)}},e.prototype.update=function(e){var t=this;this.activeItems=[],this.execulableItems=[];var n=e.state;this.toggleCommands.forEach((function(e){var o=ge[e];o.isActive(n)&&t.activeItems.push(e),o.canExecute(n)&&t.execulableItems.push(e)}))},e.prototype.ngOnInit=function(){var e=this;this.updateSubscription=this.editor.update.subscribe((function(t){e.update(t)}))},e.prototype.ngOnDestroy=function(){this.updateSubscription.unsubscribe()},e}();function lt(e,n){if(1&e&&(t.ɵɵelementContainerStart(0),t.ɵɵelement(1,"ngx-bubble",2),t.ɵɵelementContainerEnd()),2&e){var o=t.ɵɵnextContext();t.ɵɵadvance(1),t.ɵɵproperty("editor",o.editor)}}ct.ɵfac=function(e){return new(e||ct)(t.ɵɵdirectiveInject(Ce),t.ɵɵdirectiveInject(be))},ct.ɵcmp=t.ɵɵdefineComponent({type:ct,selectors:[["ngx-bubble"]],inputs:{editor:"editor"},decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],["class","NgxBubbleMenu__Icon",3,"ngClass","title","mousedown",4,"ngIf"],["class","NgxBubbleMenu__Seperator",4,"ngIf"],[1,"NgxBubbleMenu__Icon",3,"ngClass","title","mousedown"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","height","20","width","20",3,"innerHTML"],[1,"NgxBubbleMenu__Seperator"]],template:function(e,n){1&e&&t.ɵɵtemplate(0,at,2,1,"ng-container",0),2&e&&t.ɵɵproperty("ngForOf",n.toolbar)},directives:[i.NgForOf,i.NgIf,i.NgClass],styles:["*[_ngcontent-%COMP%], [_ngcontent-%COMP%]:after, [_ngcontent-%COMP%]:before{box-sizing:border-box}[_nghost-%COMP%]{display:flex;background-color:#000;color:#fff;padding:.3rem;border-radius:4px}.NgxBubbleMenu__Icon[_ngcontent-%COMP%]{height:1.8rem;width:1.8rem;transition:.3s ease-in-out;border-radius:2px;display:flex;align-items:center;justify-content:center}.NgxBubbleMenu__Icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{fill:#fff}.NgxBubbleMenu__Icon[_ngcontent-%COMP%]:hover{background-color:#636262}.NgxBubbleMenu__Icon[_ngcontent-%COMP%] + .NgxBubbleMenu__Icon[_ngcontent-%COMP%]{margin-left:.3rem}.NgxBubbleMenu__Icon.NgxBubbleMenu__Icon--Active[_ngcontent-%COMP%]{background-color:#fff}.NgxBubbleMenu__Icon.NgxBubbleMenu__Icon--Active[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{fill:#000}.NgxBubbleMenu__Seperator[_ngcontent-%COMP%]{border-left:1px solid #fff;margin:0 5px}"]}),("undefined"==typeof ngDevMode||ngDevMode)&&t.ɵsetClassMetadata(ct,[{type:t.Component,args:[{selector:"ngx-bubble",templateUrl:"./bubble.component.html",styleUrls:["./bubble.component.scss"]}]}],(function(){return[{type:Ce},{type:be}]}),{editor:[{type:t.Input}]});var ut=function(){function e(e,t){this.el=e,this.sanitizeHTML=t,this.posLeft=0,this.posTop=0,this.showMenu=!1,this.dragging=!1,this.execulableItems=[],this.activeItems=[]}return Object.defineProperty(e.prototype,"display",{get:function(){return{visibility:this.showMenu?"visible":"hidden",opacity:this.showMenu?"1":"0",top:this.posTop+"px",left:this.posLeft+"px"}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"view",{get:function(){return this.editor.view},enumerable:!1,configurable:!0}),e.prototype.onMouseDown=function(e){this.el.nativeElement.contains(e.target)?e.preventDefault():this.dragging=!0},e.prototype.onKeyDown=function(){this.dragging=!0,this.hide()},e.prototype.onMouseUp=function(){this.dragging=!1,this.useUpdate()},e.prototype.onKeyUp=function(){this.dragging=!1,this.useUpdate()},e.prototype.useUpdate=function(){this.view&&this.update(this.view)},e.prototype.getIcon=function(e){var t=R.getPath(e);return this.sanitizeHTML.transform(t)},e.prototype.hide=function(){this.showMenu=!1},e.prototype.show=function(){this.showMenu=!0},e.prototype.calculateBubblePosition=function(e){var t=e.state.selection.from,n=this.el.nativeElement,o=n.getBoundingClientRect(),r=n.parentElement.getBoundingClientRect(),i=e.coordsAtPos(t),s=i.left-r.left;(r.right<i.left+o.width||o.right>r.right)&&(s=r.width-o.width),s<0&&(s=0);var a=o.height+parseInt(getComputedStyle(n).marginBottom,10);return{left:s,top:i.top-r.top-a}},e.prototype.update=function(e){var t=e.state.selection,n=t.empty;if(t instanceof o.NodeSelection&&"image"===t.node.type.name)this.hide();else if(!this.view.hasFocus()||n||this.dragging)this.hide();else{var r=this.calculateBubblePosition(this.view),i=r.top,s=r.left;this.posLeft=s,this.posTop=i,this.show()}},e.prototype.ngOnInit=function(){var e=this;if(!this.editor)throw new Error("NgxEditor: Required editor instance");this.updateSubscription=this.editor.update.subscribe((function(t){e.update(t)})),this.resizeSubscription=c.fromEvent(window,"resize").pipe(m.throttleTime(500,c.asyncScheduler,{leading:!0,trailing:!0})).subscribe((function(){e.useUpdate()}))},e.prototype.ngOnDestroy=function(){this.updateSubscription.unsubscribe(),this.resizeSubscription.unsubscribe()},e}();ut.ɵfac=function(e){return new(e||ut)(t.ɵɵdirectiveInject(t.ElementRef),t.ɵɵdirectiveInject(Ce))},ut.ɵcmp=t.ɵɵdefineComponent({type:ut,selectors:[["ngx-editor-floating-menu"]],hostVars:2,hostBindings:function(e,n){1&e&&t.ɵɵlistener("mousedown",(function(e){return n.onMouseDown(e)}),!1,t.ɵɵresolveDocument)("keydown",(function(){return n.onKeyDown()}),!1,t.ɵɵresolveDocument)("mouseup",(function(){return n.onMouseUp()}),!1,t.ɵɵresolveDocument)("keyup",(function(){return n.onKeyUp()}),!1,t.ɵɵresolveDocument),2&e&&t.ɵɵstyleMap(n.display)},inputs:{editor:"editor"},ngContentSelectors:["*"],decls:4,vars:1,consts:[["ref",""],[4,"ngIf"],[3,"editor"]],template:function(e,n){if(1&e&&(t.ɵɵprojectionDef(),t.ɵɵelementStart(0,"div",null,0),t.ɵɵprojection(2),t.ɵɵelementEnd(),t.ɵɵtemplate(3,lt,2,1,"ng-container",1)),2&e){var o=t.ɵɵreference(1);t.ɵɵadvance(3),t.ɵɵproperty("ngIf",0===o.children.length)}},directives:[i.NgIf,ct],styles:["*[_ngcontent-%COMP%], [_ngcontent-%COMP%]:after, [_ngcontent-%COMP%]:before{box-sizing:border-box}[_nghost-%COMP%]{position:absolute;z-index:20;margin-bottom:.35rem;visibility:hidden;opacity:0}"]}),("undefined"==typeof ngDevMode||ngDevMode)&&t.ɵsetClassMetadata(ut,[{type:t.Component,args:[{selector:"ngx-editor-floating-menu",templateUrl:"./floating-menu.component.html",styleUrls:["./floating-menu.component.scss"]}]}],(function(){return[{type:t.ElementRef},{type:Ce}]}),{display:[{type:t.HostBinding,args:["style"]}],editor:[{type:t.Input}],onMouseDown:[{type:t.HostListener,args:["document:mousedown",["$event"]]}],onKeyDown:[{type:t.HostListener,args:["document:keydown"]}],onMouseUp:[{type:t.HostListener,args:["document:mouseup"]}],onKeyUp:[{type:t.HostListener,args:["document:keyup"]}]});var pt=function(){};pt.ɵfac=function(e){return new(e||pt)},pt.ɵmod=t.ɵɵdefineNgModule({type:pt}),pt.ɵinj=t.ɵɵdefineInjector({providers:[Ce],imports:[[i.CommonModule,n.ReactiveFormsModule]]}),("undefined"==typeof ngJitMode||ngJitMode)&&t.ɵɵsetNgModuleScope(pt,{declarations:[Ce,nt,Ee,Pe,Re,De,Fe,ut,ct],imports:[i.CommonModule,n.ReactiveFormsModule],exports:[nt,ut]}),("undefined"==typeof ngDevMode||ngDevMode)&&t.ɵsetClassMetadata(pt,[{type:t.NgModule,args:[{imports:[i.CommonModule,n.ReactiveFormsModule],declarations:[Ce,nt,Ee,Pe,Re,De,Fe,ut,ct],providers:[Ce],exports:[nt,ut]}]}],null,null);var dt=new t.InjectionToken("NgxEditorConfig"),gt=function(){function e(){}return e.forRoot=function(t){return{ngModule:e,providers:[{provide:dt,useValue:t},{provide:_e,useFactory:we,deps:[dt]}]}},e.forChild=function(t){return{ngModule:e,providers:[{provide:dt,useValue:t},{provide:_e,useFactory:we,deps:[dt]},be]}},e}();gt.ɵfac=function(e){return new(e||gt)},gt.ɵmod=t.ɵɵdefineNgModule({type:gt}),gt.ɵinj=t.ɵɵdefineInjector({providers:[],imports:[[i.CommonModule,pt]]}),("undefined"==typeof ngJitMode||ngJitMode)&&t.ɵɵsetNgModuleScope(gt,{declarations:[O,C],imports:[i.CommonModule,pt],exports:[O,nt,ut]}),("undefined"==typeof ngDevMode||ngDevMode)&&t.ɵsetClassMetadata(gt,[{type:t.NgModule,args:[{imports:[i.CommonModule,pt],providers:[],declarations:[O,C],exports:[O,nt,ut]}]}],null,null);var mt=function(e){return null!=e&&"number"==typeof e.length},ft=function(){function e(){}return e.required=function(e){return function(t){var n=e||a.schema;return function(e){if(!e)return!0;var t=e.childCount,n=e.firstChild;return Boolean(1===t&&(null==n?void 0:n.isTextblock)&&0===n.content.size)}(k(t.value,n))?{required:!0}:null}},e.maxLength=function(e,t){return function(n){var o=t||a.schema,r=k(n.value,o).textContent;return mt(r)&&r.length>e?{maxlength:{requiredLength:e,actualLength:r.length}}:null}},e.minLength=function(e,t){return function(n){var o=t||a.schema,r=k(n.value,o).textContent;return function(e){return null===e||0===e.length}(r)||!mt(r)?null:r.length<e?{minlength:{requiredLength:e,actualLength:r.length}}:null}},e}();Object.create;function ht(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,r,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s}function vt(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(ht(arguments[t]));return e}Object.create;var xt=function(e,t){return void 0===t&&(t=!1),function(n,o){var r=new L(e);return t?r.toggle()(n,o):r.apply()(n,o)}},yt=function(){function e(e){var t=this;if(this.applyTrx=function(e){t.state=t.state.apply(null!=e?e:t.tr),t.tr=t.state.tr,t.tr.setMeta("APPLIED_TRX",!0)},this.dispatch=function(e){t.applyTrx(e)},!e)throw Error("NgxEditor: Required view to initialize commands.");this.view=e,this.state=e.state,this.tr=this.view.state.tr}return e.prototype.exec=function(){if(!this.tr.getMeta("APPLIED_TRX"))return!1;var e=!this.view.state.doc.eq(this.state.doc);this.view.updateState(this.state);var t=this.tr.setMeta("FORCE_EMIT",e);return this.view.dispatch(t),!0},e.prototype.focus=function(){return this.view.focus(),this},e.prototype.scrollIntoView=function(){return this.tr.scrollIntoView(),this.applyTrx(),this},e.prototype.insertText=function(e){return this.tr.insertText(e),this.applyTrx(),this},e.prototype.insertNewLine=function(){var e=[l.newlineInCode,l.createParagraphNear,l.liftEmptyBlock,l.splitBlock];return l.chainCommands.apply(void 0,vt(e))(this.state,this.dispatch),this},e.prototype.applyMark=function(e){return xt(e,!1)(this.state,this.dispatch),this},e.prototype.toggleMark=function(e){return xt(e,!0)(this.state,this.dispatch),this},e.prototype.bold=function(){return xt("strong")(this.state,this.dispatch),this},e.prototype.toggleBold=function(){return xt("strong",!0)(this.state,this.dispatch),this},e.prototype.italics=function(){return xt("em")(this.state,this.dispatch),this},e.prototype.toggleItalics=function(){return xt("em",!0)(this.state,this.dispatch),this},e.prototype.underline=function(){return xt("u")(this.state,this.dispatch),this},e.prototype.toggleUnderline=function(){return xt("u",!0)(this.state,this.dispatch),this},e.prototype.strike=function(){return xt("s")(this.state,this.dispatch),this},e.prototype.toggleStrike=function(){return xt("s",!0)(this.state,this.dispatch),this},e.prototype.code=function(){return xt("code")(this.state,this.dispatch),this},e.prototype.toggleCode=function(){return xt("code",!0)(this.state,this.dispatch),this},e.prototype.toggleOrderedList=function(){return new j(!1).toggle()(this.state,this.dispatch),this},e.prototype.toggleBulletList=function(){return new j(!0).toggle()(this.state,this.dispatch),this},e.prototype.toggleHeading=function(e){return new V(e).toggle()(this.state,this.dispatch),this},e.prototype.insertLink=function(e,t){return(new B).insert(e,t)(this.state,this.dispatch),this},e.prototype.updateLink=function(e){return(new B).update(e)(this.state,this.dispatch),this},e.prototype.insertImage=function(e,t){return void 0===t&&(t={}),(new q).insert(e,t)(this.state,this.dispatch),this},e.prototype.textColor=function(e){return new U("text_color").apply({color:e})(this.state,this.dispatch),this},e.prototype.backgroundColor=function(e){return new U("text_background_color").apply({backgroundColor:e})(this.state,this.dispatch),this},e.prototype.removeTextColor=function(){return new U("text_color").remove()(this.state,this.dispatch),this},e.prototype.removeBackgroundColor=function(){return new U("text_background_color").remove()(this.state,this.dispatch),this},e.prototype.align=function(e){return new A(e).toggle()(this.state,this.dispatch),this},e.prototype.insertHTML=function(e){var t=this.state,n=t.selection,o=t.schema,r=t.tr,i=n.from,a=n.to,c=document.createElement("div");c.innerHTML=e.trim();var l=s.DOMParser.fromSchema(o).parseSlice(c),u=r.replaceRange(i,a,l);return this.applyTrx(u),this},e}(),_t=/Mac/.test(navigator.platform),bt=function(e){var t,n=x.smartQuotes.concat(x.ellipsis,x.emDash);return n.push((t=e.nodes.blockquote,x.wrappingInputRule(/^\s*>\s$/,t))),n.push(function(e){return x.wrappingInputRule(/^(\d+)\.\s$/,e,(function(e){return{order:+e[1]}}),(function(e,t){return t.childCount+t.attrs.order===+e[1]}))}(e.nodes.ordered_list)),n.push(function(e){return x.wrappingInputRule(/^\s*([-+*])\s$/,e)}(e.nodes.bullet_list)),n.push(function(e){return x.textblockTypeInputRule(/^```$/,e)}(e.nodes.code_block)),n.push(function(e,t){return x.textblockTypeInputRule(new RegExp("^(#{1,"+t+"})\\s$"),e,(function(e){return{level:e[1].length}}))}(e.nodes.heading,6)),x.inputRules({rules:n})},wt=function(e,t){var n=[];return t.keyboardShortcuts&&n.push.apply(n,vt(function(e,t){var n={};n["Mod-z"]=v.undo,_t?n["Shift-Mod-z"]=v.redo:n["Mod-y"]=v.redo;var o=[h.keymap({"Mod-b":l.toggleMark(e.marks.strong),"Mod-i":l.toggleMark(e.marks.em),"Mod-`":l.toggleMark(e.marks.code)}),h.keymap({Enter:d.splitListItem(e.nodes.list_item),"Shift-Enter":l.chainCommands(l.exitCode,(function(t,n){var o=t.tr,r=e.nodes.hard_break;return n(o.replaceSelectionWith(r.create()).scrollIntoView()),!0})),"Mod-[":d.liftListItem(e.nodes.list_item),"Mod-]":d.sinkListItem(e.nodes.list_item),Tab:d.sinkListItem(e.nodes.list_item)}),h.keymap(l.baseKeymap)];return t.history&&o.push(h.keymap(n)),o}(e,{history:t.history}))),t.history&&n.push(v.history()),t.inputRules&&n.push(bt(e)),n},Ct={content:null,history:!0,keyboardShortcuts:!0,inputRules:!0,schema:a.schema,plugins:[],nodeViews:{}},Et=function(){function e(e){void 0===e&&(e=Ct),this.valueChangesSubject=new c.Subject,this.updateSubject=new c.Subject,this.options=Object.assign({},Ct,e),this.createEditor()}return Object.defineProperty(e.prototype,"valueChanges",{get:function(){return this.valueChangesSubject.asObservable()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"update",{get:function(){return this.updateSubject.asObservable()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return this.options.schema||a.schema},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"commands",{get:function(){return new yt(this.view)},enumerable:!1,configurable:!0}),e.prototype.setContent=function(e){if(!f.isNil(e)){var t=this.view.state,n=t.tr,o=t.doc,r=k(e,this.schema);n.replaceWith(0,t.doc.content.size,r),o.eq(n.doc)||n.docChanged&&this.view.dispatch(n)}},e.prototype.handleTransactions=function(e){var t=this.view.state.apply(e);if(this.view.updateState(t),this.updateSubject.next(this.view),e.docChanged||e.getMeta("FORCE_EMIT")){var n=t.doc.toJSON();this.valueChangesSubject.next(n)}},e.prototype.createEditor=function(){var e,t=this.options,n=t.content,i=void 0===n?null:n,s=t.nodeViews,a=t.history,c=void 0===a||a,l=t.keyboardShortcuts,u=void 0===l||l,p=t.inputRules,d=void 0===p||p,g=this.schema,m=k(i,g),f=null!==(e=t.plugins)&&void 0!==e?e:[],h=wt(g,{history:c,keyboardShortcuts:u,inputRules:d});this.view=new r.EditorView(null,{state:o.EditorState.create({doc:m,schema:g,plugins:vt(h,f)}),nodeViews:s,dispatchTransaction:this.handleTransactions.bind(this)})},e.prototype.registerPlugin=function(e){var t=this.view.state,n=vt(t.plugins,[e]),o=t.reconfigure({plugins:n});this.view.updateState(o)},e.prototype.destroy=function(){this.view.destroy()},e}();Object.defineProperty(e,"marks",{enumerable:!0,get:function(){return a.marks}}),Object.defineProperty(e,"nodes",{enumerable:!0,get:function(){return a.nodes}}),Object.defineProperty(e,"schema",{enumerable:!0,get:function(){return a.schema}}),e.Editor=Et,e.FloatingMenuComponent=ut,e.MenuComponent=nt,e.NgxEditorComponent=O,e.NgxEditorModule=gt,e.Validators=ft,e.emptyDoc=I,e.parseContent=k,e.toDoc=S,e.toHTML=P,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=ngx-editor.umd.min.js.map